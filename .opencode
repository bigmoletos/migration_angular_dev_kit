# OpenCode Configuration - Angular Migration Project

## Project Mission
Migrate Angular 5.2.0 to Angular 20 in controlled, incremental steps

## Core Repositories
- **pwc-ui-shared-v4-ia**: Component library (migrate FIRST)
- **pwc-ui-v4-ia**: Main application (migrate SECOND)
- **Workspace**: C:\repo_hps\

## Non-Negotiable Rules

### 1ï¸âƒ£ No Admin Rights Available
You do NOT have administrator privileges. Adapt accordingly:
- âŒ No `npm install -g`
- âŒ No `sudo` commands
- âŒ No system permission changes
- âœ… Use local npm installs only

### 2ï¸âƒ£ Repository Cleanliness
Official repos must remain clean:
- âŒ No test files in pwc-ui-shared-v4-ia/
- âŒ No debug files in pwc-ui-v4-ia/
- âœ… Use scripts_outils_ia/ for experiments
- ğŸ§¹ Delete temporary files after use

### 3ï¸âƒ£ Document All Actions
Update `docs_outils_ia/JOURNAL-COORDINATION.md` daily:
```
## [Date] - [Action]
**Repos concernÃ©s**: [which repos]
**Action effectuÃ©e**: [what was done]
**RÃ©sultat**: [outcome]
**ProblÃ¨mes rencontrÃ©s**: [issues and fixes]
**Prochaine Ã©tape**: [next step]
**Temps passÃ©**: [duration]
```

### 4ï¸âƒ£ Test-Driven Development
Follow TDD religiously:
1. Write test (fails)
2. Write code (test passes)
3. Refactor (tests still pass)
4. Commit

### 5ï¸âƒ£ Token Efficiency
- Use stateful workflows
- Avoid redundant operations
- Summarize for reuse
- Leverage specialized tools

## Migration Path

```
5.2.0 â†’ [6â†’7â†’8] â†’ [9â†’10â†’11â†’12] â†’ [13â†’14â†’15] â†’ [16â†’17] â†’ [18â†’19â†’20]
        Foundation    Ivy Engine     Standalone   Signals   Modern
```

**Critical**: pwc-ui-shared-v4-ia must migrate before pwc-ui-v4-ia

## Best Practices

### Code Quality
- SOLID principles
- Clean, readable code
- Meaningful names
- Error handling
- TypeScript strict mode

### Angular Standards
- OnPush change detection
- Unsubscribe from observables (takeUntil)
- Proper lifecycle hooks
- Reactive patterns
- Lazy loading

### Git Hygiene
- Atomic commits
- Descriptive messages
- No debug files
- Review before push

## Directory Structure

```
C:\repo_hps\
â”œâ”€â”€ pwc-ui-shared-v4-ia/    # ğŸ”’ Clean - production only
â”œâ”€â”€ pwc-ui-v4-ia/           # ğŸ”’ Clean - production only
â”œâ”€â”€ scripts_outils_ia/      # âœ… Temporary scripts (cleanup after)
â””â”€â”€ docs_outils_ia/         # ğŸ“š Documentation
    â”œâ”€â”€ JOURNAL-COORDINATION.md   # Daily updates
    â””â”€â”€ ETAT-MIGRATION.md         # Progress tracking
```

## Per-Step Checklist

- [ ] Write tests (TDD)
- [ ] Update package.json
- [ ] Install dependencies
- [ ] Fix breaking changes
- [ ] Run tests (all pass)
- [ ] Build (no errors)
- [ ] Security audit
- [ ] Update JOURNAL-COORDINATION.md
- [ ] Update ETAT-MIGRATION.md
- [ ] Commit with message

## Safe Commands

```bash
# âœ… Safe (no admin)
npm install <package>
npm test
npm run build
npm audit
git add/commit/push

# âš ï¸ Use in scripts_outils_ia/ only
node test-script.js
npm install <experimental>

# âŒ Forbidden (admin required)
npm install -g <package>
sudo <anything>
```

## Pre-Action Checks

- [ ] Admin rights needed? â†’ Find alternative
- [ ] Pollutes official repos? â†’ Use scripts_outils_ia/
- [ ] Tests written first? (TDD)
- [ ] Will update documentation?
- [ ] Token-efficient approach?

## Success Criteria

âœ… Tests passing
âœ… Build successful
âœ… Security clean
âœ… Documentation updated
âœ… Changes committed
âœ… Next step planned

## Coordination

Multiple AI tools may assist (.claude, .cursorrules, .vibe, .gemini)
- Share constraints
- Update shared docs
- Avoid duplication
- Maintain consistency

---
Version: 1.0.0 | Updated: 2026-02-03
