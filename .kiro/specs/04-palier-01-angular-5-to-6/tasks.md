# Tasks - Palier 1 : Angular 5.2 â†’ 6.1

## TÃ¢ches

- [ ] 1. Phase 1 : Migrer pwc-ui-shared
  - [ ] 1.1 PrÃ©paration
    - [ ] 1.1.1 Basculer vers Node.js v10 (`Use-Node10`)
    - [ ] 1.1.2 VÃ©rifier versions (`node --version`, `npm --version`)
    - [ ] 1.1.3 CrÃ©er branche `palier-1-angular-6`
    - [ ] 1.1.4 CrÃ©er tag `palier-0-angular-5-shared`
    - [ ] 1.1.5 VÃ©rifier Ã©tat actuel (build + tests)
  - [ ] 1.2 Installer rxjs-compat
    - [ ] 1.2.1 `npm install rxjs-compat@6.0.0 --save`
    - [ ] 1.2.2 VÃ©rifier package.json
    - [ ] 1.2.3 VÃ©rifier build rÃ©ussi
  - [ ] 1.3 Mettre Ã  jour Angular
    - [ ] 1.3.1 Dry-run : `ng update @angular/cli@6 @angular/core@6 --dry-run`
    - [ ] 1.3.2 Appliquer : `ng update @angular/cli@6 @angular/core@6 --allow-dirty`
    - [ ] 1.3.3 VÃ©rifier `angular.json` crÃ©Ã©
    - [ ] 1.3.4 VÃ©rifier `.angular-cli.json` supprimÃ©
    - [ ] 1.3.5 VÃ©rifier compilation rÃ©ussie
  - [ ] 1.4 Migrer RxJS avec codemod
    - [ ] 1.4.1 Installer codemod : `npm install -g rxjs-tslint`
    - [ ] 1.4.2 Dry-run : `rxjs-5-to-6-migrate -p src/tsconfig.app.json`
    - [ ] 1.4.3 Appliquer : `rxjs-5-to-6-migrate -p src/tsconfig.app.json --apply`
    - [ ] 1.4.4 VÃ©rifier aucun import `rxjs/add/...` : `grep -r "rxjs/add/" src/`
    - [ ] 1.4.5 VÃ©rifier opÃ©rateurs pipeable
    - [ ] 1.4.6 VÃ©rifier compilation rÃ©ussie
  - [ ] 1.5 Migrer @angular/http â†’ HttpClient
    - [ ] 1.5.1 Remplacer HttpModule par HttpClientModule dans modules
    - [ ] 1.5.2 Remplacer Http par HttpClient dans services
    - [ ] 1.5.3 Supprimer `.map(res => res.json())`
    - [ ] 1.5.4 Typer les appels HttpClient : `http.get<Type>()`
    - [ ] 1.5.5 VÃ©rifier aucun import `@angular/http` : `grep -r "@angular/http" src/`
    - [ ] 1.5.6 VÃ©rifier compilation rÃ©ussie
  - [ ] 1.6 Fixer erreurs de compilation
    - [ ] 1.6.1 ExÃ©cuter `npm run build`
    - [ ] 1.6.2 Fixer imports manquants
    - [ ] 1.6.3 Fixer opÃ©rateurs incorrects
    - [ ] 1.6.4 Fixer types incorrects
    - [ ] 1.6.5 VÃ©rifier 0 erreur de compilation
  - [ ] 1.7 ExÃ©cuter tests unitaires
    - [ ] 1.7.1 Adapter tests HttpClient (HttpClientTestingModule)
    - [ ] 1.7.2 ExÃ©cuter `npm test`
    - [ ] 1.7.3 VÃ©rifier >95% des tests passent
    - [ ] 1.7.4 Fixer tests critiques si nÃ©cessaire
  - [ ] 1.8 Build final
    - [ ] 1.8.1 ExÃ©cuter `npm run build`
    - [ ] 1.8.2 VÃ©rifier succÃ¨s
    - [ ] 1.8.3 VÃ©rifier warnings <10
  - [ ] 1.9 ğŸš¦ Gate Playwright (BLOQUANT)
    - [ ] 1.9.1 Installer Playwright (si premiÃ¨re fois) : `npm install -D @playwright/test`
    - [ ] 1.9.2 Installer navigateurs : `npx playwright install`
    - [ ] 1.9.3 Terminal 1 : Lancer app sur port 4201 (`start-pwc-ui-shared-4201.bat`)
    - [ ] 1.9.4 VÃ©rifier app dÃ©marre : http://localhost:4201
    - [ ] 1.9.5 Terminal 2 : ExÃ©cuter tests E2E (`npm run test:e2e`)
    - [ ] 1.9.6 VÃ©rifier 100% des tests passent (OBLIGATOIRE)
    - [ ] 1.9.7 VÃ©rifier demo-home.spec.ts : âœ…
    - [ ] 1.9.8 VÃ©rifier demo-forms.spec.ts : âœ…
    - [ ] 1.9.9 VÃ©rifier demo-navigation.spec.ts : âœ…
    - [ ] 1.9.10 VÃ©rifier page charge en <5s
    - [ ] 1.9.11 VÃ©rifier aucune erreur console critique
  - [ ] 1.10 Publication Nexus
    - [ ] 1.10.1 VÃ©rifier version actuelle : `npm version`
    - [ ] 1.10.2 IncrÃ©menter version : `npm version patch`
    - [ ] 1.10.3 Publier : `npm publish`
    - [ ] 1.10.4 VÃ©rifier package disponible sur Nexus
  - [ ] 1.11 Tag Git
    - [ ] 1.11.1 `git add .`
    - [ ] 1.11.2 `git commit -m "feat: migrate to Angular 6 and RxJS 6"`
    - [ ] 1.11.3 `git tag palier-1-shared-angular-6`
    - [ ] 1.11.4 `git push origin palier-1-angular-6`
    - [ ] 1.11.5 `git push origin palier-1-shared-angular-6`

- [ ] 2. Phase 2 : Migrer pwc-ui (APRÃˆS Gate ValidÃ©)
  - [ ] 2.1 PrÃ©paration
    - [ ] 2.1.1 Basculer vers Node.js v10 (`Use-Node10`)
    - [ ] 2.1.2 VÃ©rifier versions
    - [ ] 2.1.3 CrÃ©er branche `palier-1-angular-6`
    - [ ] 2.1.4 CrÃ©er tag `palier-0-angular-5-ui`
    - [ ] 2.1.5 VÃ©rifier Ã©tat actuel (build + tests)
  - [ ] 2.2 Mettre Ã  jour @pwc/shared
    - [ ] 2.2.1 `npm update @pwc/shared`
    - [ ] 2.2.2 `npm install`
    - [ ] 2.2.3 VÃ©rifier version : `npm list @pwc/shared`
  - [ ] 2.3 Installer rxjs-compat
    - [ ] 2.3.1 `npm install rxjs-compat@6.0.0 --save`
  - [ ] 2.4 Mettre Ã  jour Angular
    - [ ] 2.4.1 `ng update @angular/cli@6 @angular/core@6 --allow-dirty`
    - [ ] 2.4.2 VÃ©rifier `angular.json` crÃ©Ã©
    - [ ] 2.4.3 VÃ©rifier compilation rÃ©ussie
  - [ ] 2.5 Adapter webpack.config (si nÃ©cessaire)
    - [ ] 2.5.1 VÃ©rifier `webpack.dev.config.js`
    - [ ] 2.5.2 VÃ©rifier `webpack.prod.config.js`
    - [ ] 2.5.3 Ajouter alias si erreurs
    - [ ] 2.5.4 VÃ©rifier build rÃ©ussi
  - [ ] 2.6 Migrer RxJS
    - [ ] 2.6.1 `rxjs-5-to-6-migrate -p src/tsconfig.app.json --apply`
    - [ ] 2.6.2 VÃ©rifier imports RxJS
    - [ ] 2.6.3 VÃ©rifier compilation rÃ©ussie
  - [ ] 2.7 Migrer @angular/http
    - [ ] 2.7.1 Remplacer HttpModule par HttpClientModule
    - [ ] 2.7.2 Remplacer Http par HttpClient
    - [ ] 2.7.3 VÃ©rifier aucun import `@angular/http`
    - [ ] 2.7.4 VÃ©rifier compilation rÃ©ussie
  - [ ] 2.8 Fixer erreurs
    - [ ] 2.8.1 `npm run build`
    - [ ] 2.8.2 Fixer erreurs une par une
    - [ ] 2.8.3 VÃ©rifier 0 erreur
  - [ ] 2.9 Tests unitaires
    - [ ] 2.9.1 Adapter tests HttpClient
    - [ ] 2.9.2 `npm test`
    - [ ] 2.9.3 VÃ©rifier >95% passent
  - [ ] 2.10 Build final
    - [ ] 2.10.1 `npm run build`
    - [ ] 2.10.2 VÃ©rifier succÃ¨s
  - [ ] 2.11 Test manuel application
    - [ ] 2.11.1 Lancer app : `start-pwc-ui.bat`
    - [ ] 2.11.2 VÃ©rifier http://localhost:4200
    - [ ] 2.11.3 Tester login
    - [ ] 2.11.4 Tester navigation
    - [ ] 2.11.5 Tester appels API
    - [ ] 2.11.6 VÃ©rifier aucune erreur console
  - [ ] 2.12 Tag Git
    - [ ] 2.12.1 `git add .`
    - [ ] 2.12.2 `git commit -m "feat: migrate to Angular 6 and RxJS 6"`
    - [ ] 2.12.3 `git tag palier-1-ui-angular-6`
    - [ ] 2.12.4 `git push origin palier-1-angular-6`
    - [ ] 2.12.5 `git push origin palier-1-ui-angular-6`

- [ ] 3. Documentation et Validation
  - [ ] 3.1 Mettre Ã  jour `.kiro/state/strands-state.json`
  - [ ] 3.2 Documenter problÃ¨mes rencontrÃ©s
  - [ ] 3.3 Documenter solutions appliquÃ©es
  - [ ] 3.4 Documenter temps rÃ©el vs estimÃ©
  - [ ] 3.5 Mettre Ã  jour journal de bord si nÃ©cessaire

- [ ] 4. Validation finale
  - [ ] 4.1 pwc-ui-shared : Build âœ…
  - [ ] 4.2 pwc-ui-shared : Tests >95% âœ…
  - [ ] 4.3 pwc-ui-shared : Gate Playwright 100% âœ…
  - [ ] 4.4 pwc-ui-shared : PubliÃ© Nexus âœ…
  - [ ] 4.5 pwc-ui : Build âœ…
  - [ ] 4.6 pwc-ui : Tests >95% âœ…
  - [ ] 4.7 pwc-ui : App dÃ©marre âœ…
  - [ ] 4.8 Tous les tags Git crÃ©Ã©s âœ…
